import{d as D,aq as F,ar as S,as as B,e as A,C as m,G as T,H as f,_ as q,r as p,f as U,k as e,p as r,w as C,o as V,m as N,am as k,z as M}from"./index.845388b1.js";import{g as P}from"./assets.3726cf21.js";import{a as $}from"./account.9bb92812.js";import{M as I}from"./multiselect.f57e4c70.js";import{S as R}from"./sweetalert2.ad5735fd.js";import{c as j,a as _}from"./object.1d1a0185.js";const z=D({name:"user-account-profile",components:{ErrorMessage:F,Field:S,VForm:B,Multiselect:I},methods:{},setup(){const s=A();$();const l=m({}),b=m({}),h=m({}),y=m(null),n=m([]),u=j().shape({UserAdmin_Name:_().required().label("\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),UserAdmin_FullName:_().required().label("\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),prefixVender:_().required().label("\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17"),PrefixUserRules:_().required().label("\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E4C")}),i=async(t,o)=>{let v=!0,d="";A();const g=s.params.id,x={UserAdmin_Name:t.UserAdmin_Name,UserAdmin_Delete:"0",UserRule_Id:t.PrefixUserRules,UserAdmin_FullName:t.UserAdmin_FullName,UserAdmin_Companyid:t.prefixVender.split("%")[0],UserAdmin_VenderCode:t.prefixVender.split("%")[1]};try{let E;await f.put(`http://localhost:3100/api/updateUserAdmin/${g}`,x).then(a=>{d=a.data.message}).catch(a=>{console.error("An error occurred:",a),v=!1,d="An error occurred:"+a}),(v=!0)?R.fire({text:d,icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-primary"}}).then(async()=>{await c(g)}):R.fire({text:"Error inserting data:"+d,icon:"error",buttonsStyling:!1,confirmButtonText:"Try again!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-danger"}})}catch(E){console.error("Error inserting data:",E)}},c=async t=>{try{try{console.log(t);const o=await f.get(`http://localhost:3100/api/getUserAdminById/${t}`);n.value=o.data}catch(o){console.error("Error fetching data:",o)}}catch(o){console.error("Error fetching data:",o)}};return T(async()=>{const t=A();await c(t.params.id);const d=(await f.get("http://localhost:3100/api/getPrefixVender")).data.map(a=>({value:a.CompanyId.trim()+"%"+a.VenderCode.trim(),label:a.VenderName}));h.value={value:n.value[0].UserAdmin_Companyid.trim()+"%"+n.value[0].UserAdmin_VenderCode.trim(),options:d,searchable:!0,placeholder:"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17"};const E=(await f.get("http://localhost:3100/api/getPrefixUserRules")).data.prefix.map(a=>({value:a.value,label:a.label}));b.value={value:n.value[0].UserRule_Id,options:E,searchable:!0,placeholder:"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E4C"}}),{getAssetPath:P,onSubmitSaveChanges:i,submitButton:y,userDetail:u,prefixVender:h,nameTitle:l,prefixUserRulesTitle:b,toggleSubMenuActive:t=>{t.Active=!t.Active},menuData:n}}}),G={class:"card mb-5 mb-xl-10"},H=e("div",{class:"card-header border-0","data-bs-target":"#kt_account_profile","aria-expanded":"true","aria-controls":"kt_account_profile"},[e("div",{class:"card-title m-0"},[e("h3",{class:"fw-medium m-0"},"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19")])],-1),O={id:"kt_account_profile"},J={class:"card-body border-top p-9"},K={key:0,class:"row mb-6"},L=e("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19",-1),Q={class:"col-lg-8 fv-row"},W={class:"fv-plugins-message-container"},X={class:"fv-help-block"},Y={key:1,class:"row mb-6"},Z=e("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19",-1),ee={class:"col-lg-8 fv-row"},se={class:"fv-plugins-message-container"},oe={class:"fv-help-block"},te={class:"row mb-6"},le=e("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"\u0E1A\u0E23\u0E34\u0E29\u0E31\u0E17",-1),re={class:"col-lg-4 fv-row"},ae={class:"fv-plugins-message-container"},ne={class:"fv-help-block"},ue={class:"row mb-6"},ie=e("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E4C",-1),de={class:"col-lg-4 fv-row"},ce={class:"fv-plugins-message-container"},me={class:"fv-help-block"},pe={class:"card-footer d-flex justify-content-between py-6 px-9"},Ee=e("button",{class:"btn btn-danger btn-active-light-second me-2"}," Back ",-1),fe=e("button",{type:"reset",class:"btn btn-secondary btn-active-light-second me-2"}," Discard ",-1),_e={type:"submit",id:"kt_account_profile_details_submit",ref:"submitButton",class:"btn btn-success"},be=e("span",{class:"indicator-label"}," Save ",-1),he=e("span",{class:"indicator-progress"},[M(" Please wait... "),e("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),ve=[be,he];function ge(s,l,b,h,y,n){const u=p("Field"),i=p("ErrorMessage"),c=p("Multiselect"),w=p("router-link"),t=p("VForm");return V(),U("div",G,[H,e("div",O,[r(t,{id:"kt_account_profile_form",class:"form",novalidate:"",onSubmit:s.onSubmitSaveChanges,"validation-schema":s.userDetail},{default:C(()=>[e("div",J,[s.menuData.length>0?(V(),U("div",K,[L,e("div",Q,[r(u,{type:"text",name:"UserAdmin_Name",class:"form-control form-control-lg form-control-solid",placeholder:"",modelValue:s.menuData[0].UserAdmin_Name,"onUpdate:modelValue":l[0]||(l[0]=o=>s.menuData[0].UserAdmin_Name=o)},null,8,["modelValue"]),e("div",W,[e("div",X,[r(i,{name:"UserAdmin_Name"})])])])])):N("",!0),s.menuData.length>0?(V(),U("div",Y,[Z,e("div",ee,[r(u,{type:"text",name:"UserAdmin_FullName",class:"form-control form-control-lg form-control-solid",placeholder:"",modelValue:s.menuData[0].UserAdmin_FullName,"onUpdate:modelValue":l[1]||(l[1]=o=>s.menuData[0].UserAdmin_FullName=o)},null,8,["modelValue"]),e("div",se,[e("div",oe,[r(i,{name:"UserAdmin_FullName"})])])])])):N("",!0),e("div",te,[le,e("div",re,[r(u,{type:"hidden",name:"prefixVender",class:"form-control form-control-lg form-control-solid mb-3 mb-lg-0",modelValue:s.prefixVender.value,"onUpdate:modelValue":l[2]||(l[2]=o=>s.prefixVender.value=o)},null,8,["modelValue"]),r(c,k({modelValue:s.prefixVender.value,"onUpdate:modelValue":l[3]||(l[3]=o=>s.prefixVender.value=o)},s.prefixVender,{class:"form-control form-control-solid"}),null,16,["modelValue"]),e("div",ae,[e("div",ne,[r(i,{name:"prefixVender"})])])])]),e("div",ue,[ie,e("div",de,[r(u,{type:"hidden",name:"PrefixUserRules",class:"form-control form-control-lg form-control-solid mb-3 mb-lg-0",modelValue:s.prefixUserRulesTitle.value,"onUpdate:modelValue":l[4]||(l[4]=o=>s.prefixUserRulesTitle.value=o)},null,8,["modelValue"]),r(c,k({modelValue:s.prefixUserRulesTitle.value,"onUpdate:modelValue":l[5]||(l[5]=o=>s.prefixUserRulesTitle.value=o)},s.prefixUserRulesTitle,{class:"form-control form-control-solid"}),null,16,["modelValue"]),e("div",ce,[e("div",me,[r(i,{name:"PrefixUserRules"})])])])])]),e("div",pe,[e("div",null,[r(w,{to:"/csh_user_sea/index"},{default:C(()=>[Ee]),_:1})]),e("div",null,[fe,e("button",_e,ve,512)])])]),_:1},8,["onSubmit","validation-schema"])])])}const Ce=q(z,[["render",ge]]);export{Ce as default};
